Bootstrap: docker
From: ubuntu:latest

%post
    apt -y update
    apt -y upgrade

    apt -yq install git wget perl

    wget https://mirror.ctan.org/systems/texlive/tlnet/install-tl-unx.tar.gz
    zcat < install-tl-unx.tar.gz | tar xf -
    rm install-tl-unx.tar.gz
    cd install-tl-*
    perl ./install-tl --no-interaction
    cd /usr/local/texlive/*/bin/x86_64-linux
    ls | while read cmd; do ln -sf $(pwd)/$cmd /usr/local/bin/$cmd; done
    cd -
    rm -rf install-tl-*

    DEBIAN_FRONTEND=noninteractive apt -yq install xdvik-ja evince

    wget https://raw.githubusercontent.com/quantum-journal/quantum-journal/master/quantumarticle.cls && \
      mkdir -p /usr/local/share/texmf/tex/latex/quantumarticle && \
      mv quantumarticle.cls /usr/local/share/texmf/tex/latex/quantumarticle/ && \
      texhash

%environment
    export LC_ALL=C
    export PS1='[\u@\h \w]$'
